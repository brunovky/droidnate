
<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Droidnate by brunovky</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Droidnate</h1>
        <h2 style="width: 660px;">Object Relational Mapping API for Android Applications.</h2>
        <a href="https://github.com/brunovky/droidnate" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>
<a name="why-droidnate" class="anchor" href="#why-droidnate"><span class="octicon octicon-link"></span></a>Why to use Droidnate?</h3>

<p>Droidnate API is divided into two modules: </p>
<p><li>Data module (Communication with SQLite)</li>
<li>WS module (Communication with Web Services)</li></p>

<p>The <a style="font-weight: bold;">Data module</a> has a simplified way to communicate with SQLite database using the native Android API along with configuration concepts as annotations. The setup is quite simple, more precisely in three steps: </p>
<p><li>Main package and database configuration;</li>
<li>Entities management and</li>
<li>Creation of Business classes.</li></p>

<p>And the <a style="font-weight: bold;">WS module</a> has facility to communicate via Web Services. For this, just a few simple steps: </p>
<p><li>URL configuration;</li>
<li>Representation of entities coming WebServices side, if you need, and</li>
<li>Creation of Service classes, using Annotations and Request class.</li></p>

<h3>
<a name="including-project" class="anchor" href="#including-project"><span class="octicon octicon-link"></span></a>Including Droidnate API in your project</h3>

<p>There are two ways to leverage Droidnate in your projects:</p>

<p><ol class="task-list">
<li>If you’re using the Eclipse IDE with the ADT plugin version 0.9.7 or greater you can include Droidnate as a library project. Create a new Android project in Eclipse using the droidnate/ folder as the existing source. Then, in your project properties, add the created project under the ‘Libraries’ section of the ‘Android’ category.</li>
<li>
<p>If you use maven to build your Android project you need to add the following repository:</p>

<pre><code>&lt;repositories&gt;
  ...
  &lt;repository&gt;
      &lt;id&gt;Droidnate Maven&lt;/id&gt;
      &lt;url&gt;https://github.com/brunovky/droidnate&lt;/url&gt;
  &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre>

<p>Then you can simply add a dependency for this library.</p>

<pre><code>&lt;dependencies&gt;
    ...
    &lt;dependency&gt;
        &lt;groupId&gt;com.brunooliveira.droidnate&lt;/groupId&gt;
        &lt;artifactId&gt;droidnate&lt;/artifactId&gt;
        &lt;version&gt;2.1-SNAPSHOT&lt;/version&gt;
        &lt;type&gt;apklib&lt;/type&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
</li>
</ol>

<h3>
<a name="how-to-use" class="anchor" href="#how-to-use"><span class="octicon octicon-link"></span></a>How to use</h3>

<h4>Data module</h4>

<p>The <a style="font-weight: bold;">Data module</a> use occurs in three stages:</p>

<ol class="task-list">
<li>
<p>Main package and database configuration:</p>

<p>Create a class extending Application, and use the static methods of the DatabaseHelper class, identifying its main package and the name of your database.</p>

<pre><code>public class MyApplication extends Application {

  @Override
  public void onCreate() {
    super.onCreate();
    // DatabaseHelper configurations
    DatabaseHelper.setDefaultPackage("com.example.app");
    DatabaseHelper.setDatabaseName("db_test.db");
    // or with fluent interface
    // DroidnateConfig.db()
    //   .defaultPackage("com.example.app")
    //   .dbName("db_test.db");
  }

}
</code></pre>

<p><a style="font-weight: bold;">IMPORTANT</a>: Your database must be in "assets" folder of the Android project.</p>
</li>
<li>
<p>Entities management:</p>

<p>Create a representation of the entities from the database (model) using Droidnate annotations.</p>

<pre><code>// Identify class as entity from the database
@Entity
public class User {

  // ID with auto increment
  @Column(generatedValue = true)
  private Long id;
  // Not null field
  @NotNull
  private String name;
  // Field with different name
  @Column(name = "date_of_birth")
  private Calendar dateOfBirth;

  // getters and setters omitted...

}
</code></pre>

<p>Identify foreign keys such as objects, using @ForeignKey annotation.</p>

<pre><code>/** 
* fieldName = child key name in "user" table
* objectField = field name in "Address" class as Primary Key
*/
@ForeignKey(fieldName = "address_id", objectField = "id")
private Address address;
</code></pre>
</li>
<li>
<p>Creation of Business classes</p>

<p>Create your Business classes, which will contain your business logic. Use a DAO object, which contains all the methods responsible for insert, update, delete, and query entities.</p>

<pre><code>public class UserBusiness {

  private DAO&lt;User&gt; userDAO;

  public UserBusiness(Context context) {
    this.userDAO = new DAO&lt;User&gt;(context, User.class);
  }

  // business logic methods...

}
</code></pre>

</li>
</ol>

<h4>WS module</h4>

<p>The <a style="font-weight: bold;">WS module</a> use occurs in three stages too:</p>

<ol class="task-list">
<li>
<p>URL configuration:</p>

<p>Create a class extending Application, and use the static methods of the WebServicesHelper class, identifying its server name, port, project name and the waiting text dialog, when you uses.</p>

<pre><code>public class MyApplication extends Application {

  @Override
  public void onCreate() {
    super.onCreate();
    // WebServicesHelper configurations
    WebServicesHelper.setServerName("192.168.1.1");
    WebServicesHelper.setPort("8080");
    WebServicesHelper.setProjectName("droidnate-rest");
    WebServicesHelper.setWaitingText("Please wait...");
    // or with fluent interface
    // DroidnateConfig.ws()
    //   .serverName("192.168.1.1")
    //   .port("8080")
    //   .projectName("droidnate-rest")
    //   .waitingText("Please wait...");
  }

}
</code></pre>

</li>
<li>
<p>Representation of entities coming WebServices side, if you need:</p>

<p>Create a representation of the entities from the WebServices side.</p>

<pre><code>public class User {

  private Long id;
  private String name;
  private Calendar dateOfBirth;

  // getters and setters omitted...

}
</code></pre>

</li>
<li>
<p>Creation of Service classes</p>

<p>Create your Service classes, which will contain your service call. Use Droidnate-WS annotations to identify some request informations and the Request class to create the service call task, besides of identify the response callback.</p>

<pre><code>@ResourcePath("user")
public class UserService {

  private Context context;

  public UserService(Context context) {
    this.context = context;
  }

  @POST("/save")
  public void save(User user, ModelResponseHandler<User> handler) {
    new RequestBuilder(context).entity(user).waitingDialog().create().execute(handler);
    // or with the Request itself
    // Request request = new Request(context);
    // request.setEntity(user);
    // request.setWaitingDialog(true);
    // request.execute(handler);
  }

}
</code></pre>

<p>The RequestBuilder class uses fluent interface to creation of Request class.</p>

<p>The ModelResponseHandler interface is a callback for model response, based on parameterized type (User, in this example).</p>

</li></ol>

<h4>Response callback types:</h4>

<p><li>ModelResponseHandler&lt;T&gt;: response callback for model response;</li>
<li>ListModelResponseHandler&lt;T&gt;: response callback for list of models response;</li>
<li>JSONResponseHandler: response callback for JSON object response;</li>
<li>SimpleResponseHandler: response callback for no response, and</li>
<li>ToastResponseHandler: response callback for response with toast (success message or error message).</li>

<h3>
<a name="javadoc" class="anchor" href="#javadoc"><span class="octicon octicon-link"></span></a>Javadoc</h3>

<p>The Javadoc project can be found clicking <a href="http://brunovky.github.io/droidnate/apidocs/index.html">here</a>.</p>

<h3>
<a name="about-author" class="anchor" href="#about-author"><span class="octicon octicon-link"></span></a>About the author</h3>

<p>Android Developer for <strong>WEUPSH</strong> company, passionate about new technologies, more specifically everything that takes the word <strong>"Java"</strong> in the name. Develops for three platforms currently available (Web, Desktop and Mobile), with a special affection for Android applications. JavaFX enthusiast, authored articles for MundoJ magazine, speaker at events of Java programming and author of <a href="http://www.casadocodigo.com.br/products/livro-javafx">"JavaFX: Interfaces with quality for desktop applications"</a>, published by Casa do Código. This book is among the five books by <a href="http://www.oracle.com/technetwork/java/javase/documentation/javafx-docs-2159875.html">official Oracle documentation</a>.</p>

<h3>
<a name="support-or-contact" class="anchor" href="#support-or-contact"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with the API? Leave your questions or suggestions at <a href="https://github.com/brunovky/droidnate">github</a>, or contact by email: <a href="mailto:bruno_vky@live.com">bruno_vky@live.com</a> or <a href="mailto:bruno.vky@gmail.com">bruno.vky@gmail.com</a>.</p>
      </section>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/brunovky/droidnate/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/brunovky/droidnate/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/brunovky/droidnate"></a> is maintained by <a href="https://github.com/brunovky">brunovky</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
